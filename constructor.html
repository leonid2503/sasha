<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PaperSwitch - Constructor</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <nav id="main-nav">
             <!-- Nav links will be dynamically updated by JS -->
        </nav>
        <h1>PaperSwitch</h1>
    </header>

    <main class="constructor-main">
        <h2>Play as the Constructor</h2>

        <!-- 3D Notebook Preview -->
        <div class="notebook-3d-preview floating-window" id="floating-preview-window">
            <div class="window-header" id="preview-window-header">
                <span>3D Notebook Preview</span>
                <div class="window-controls">
                    <button class="window-btn" id="preview-minimize">_</button>
                    <button class="window-btn" id="preview-maximize">□</button>
                </div>
            </div>
            
            <!-- View Toggle Buttons -->
            <div class="view-toggle" style="padding: 5px 10px; text-align: center; border-bottom: 1px solid var(--border-color); background: #eee;">
                <button id="view-cover-btn" class="view-toggle-btn active">Cover Design</button>
                <button id="view-pages-btn" class="view-toggle-btn">Page Design</button>
            </div>

            <div id="notebook-3d-container" class="preview-content">
                <div class="notebook-3d" id="notebook-3d">
                    <div class="notebook-cover" id="notebook-cover"></div>
                    <div class="notebook-spine"></div>
                    <div class="notebook-pages" id="notebook-pages"></div>
                </div>
            </div>
        </div>

        <!-- Controls pane -->
        <div class="controls-pane-wrapper">
            <div class="controls-pane">
                <h3>Controls</h3>

                <!-- Cover Controls Group -->
                <div id="cover-controls-group">
                    <div class="control-group" id="cover-material-controls">
                        <h4>Cover Material</h4>
                        <label>
                            <input type="radio" name="cover-material" value="blue-plastic" data-price="0" checked> Blue Plastic (Standard)
                        </label>
                        <label>
                            <input type="radio" name="cover-material" value="black-plastic" data-price="0">
                            Black Plastic
                        </label>
                    </div>
                    <div class="control-group" id="cover-image-controls">
                        <h4>Cover Image</h4>
                        <label for="cover-image-upload">Upload Image:</label>
                        <input type="file" id="cover-image-upload" accept="image/*">
                        <p style="font-size: 0.8em; margin-top: 5px;">(+€2 if image added)</p>
                    </div>
                </div>

                <!-- Page Controls Group -->
                <div id="page-controls-group" style="display: none;">
                    <div class="control-group" id="page-amount-controls">
                        <h4>Total Pages</h4>
                        <input type="number" id="total-pages" min="2" max="200" step="1" value="48">
                        <span style="font-size: 0.9em; color: #888;">(Enter any number, e.g., 48, 55, 96...)</span>
                    </div>
                    <div class="control-group" id="page-list-controls">
                        <h4>Page List (Drag to Reorder)</h4>
                        <ul id="page-list" class="page-list"></ul>
                        <div class="add-page-row">
                            <select id="add-page-type">
                                <option value="lined">Lined</option>
                                <option value="grid">Grid</option>
                                <option value="blank">Blank</option>
                                <option value="diary">Diary</option>
                            </select>
                            <input type="number" id="page-count" min="1" max="200" value="1" style="width: 60px;">
                            <button id="add-page-btn" type="button">Add Page</button>
                        </div>
                        <span style="font-size: 0.9em; color: #888;">Drag pages to reorder. Click × to remove a page.</span>
                    </div>
                    <div class="control-group" id="page-color-controls">
                        <h4>Page Color</h4>
                        <div class="color-picker-wrapper">
                            <label for="page-color">Page Color:</label>
                            <input type="color" id="page-color" value="#ffffff">
                        </div>
                    </div>
                </div>

                <div class="control-group design-name-group">
                    <h4>Design Name (Optional)</h4>
                    <input type="text" id="design-name" placeholder="e.g., My Project Notebook">
                </div>

                <div class="control-group price-group">
                    <h4>Total Price</h4>
                    <span id="total-price" style="font-size: 1.2em; font-weight: bold;">€0.00</span>
                </div>

                <button id="submit-design-btn" class="button">Save & Add to Build</button>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; 2024 PaperSwitch. All rights reserved.</p>
    </footer>

    <script src="script.js"></script>
</body>
</html> 